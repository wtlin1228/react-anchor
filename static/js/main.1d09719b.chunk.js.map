{"version":3,"sources":["CardsContainer.js","useAnchor.js","App.js","index.js"],"names":["Container","styled","div","Card","props","cardHeight","CardAnchor","span","anchorOffset","CardContainer","id","title","scrollY","selectedAnchorLink","setAnchorLink","scrollOffset","el","useRef","useEffect","current","offsetTop","offsetHeight","window","innerHeight","document","body","scrollHeight","ref","CardsContainer","cards","useState","setScrollY","handleScrollYChange","addEventListener","removeEventListener","map","key","AnchorLink","selected","useAnchor","anchorLinks","defaultAnchorLink","selectedId","setSelectedId","onClick","href","Left","Right","Footer","InputBox","App","Anchor","setCardHeight","setScrollOffset","setAnchorOffset","htmlFor","value","onChange","e","target","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1d09719b.chunk.js","sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\n\n// utils\n\n// assets\n\n// actions\n\n// components\n\n// self-defined-components\nconst Container = styled.div``;\nconst Card = styled.div`\n  position: relative;\n\n  min-height: ${(props) => `${props.cardHeight}px`};\n\n  margin: 32px;\n  padding: 32px;\n\n  border: 1px solid #000000;\n  border-radius: 5px;\n\n  transition: all 0.3s;\n\n  &:hover {\n    transform: translateY(-4px);\n    box-shadow: -3px 6px 5px 0px #94aaa0;\n  }\n`;\nconst CardAnchor = styled.span`\n  position: absolute;\n  top: ${(props) => `-${props.anchorOffset}px`};\n  left: 0;\n\n  height: 0;\n`;\n\nconst CardContainer = ({\n  id,\n  title,\n  scrollY,\n  selectedAnchorLink,\n  setAnchorLink,\n  cardHeight,\n  scrollOffset,\n  anchorOffset,\n}) => {\n  const el = useRef(null);\n\n  useEffect(() => {\n    if (\n      el &&\n      scrollY > el.current.offsetTop - scrollOffset &&\n      scrollY < el.current.offsetTop + el.current.offsetHeight - scrollOffset\n    ) {\n      if (\n        selectedAnchorLink !== id &&\n        scrollY + window.innerHeight !== document.body.scrollHeight\n      ) {\n        setAnchorLink(id);\n      }\n    }\n  }, [scrollY, id, title, selectedAnchorLink, setAnchorLink, scrollOffset]);\n\n  return (\n    <Card ref={el} cardHeight={cardHeight}>\n      <CardAnchor id={`card-${id}`} anchorOffset={anchorOffset} />\n      <p>{title}</p>\n    </Card>\n  );\n};\n\nconst CardsContainer = ({\n  cards,\n  selectedAnchorLink,\n  setAnchorLink,\n  cardHeight,\n  scrollOffset,\n  anchorOffset,\n}) => {\n  const [scrollY, setScrollY] = useState(0);\n\n  useEffect(() => {\n    const handleScrollYChange = () => {\n      setScrollY(window.scrollY);\n    };\n    window.addEventListener(\"scroll\", handleScrollYChange);\n\n    return () => {\n      window.removeEventListener(\"scroll\", handleScrollYChange);\n    };\n  }, []);\n\n  return (\n    <Container>\n      {cards.map(({ id, title }) => (\n        <CardContainer\n          key={`card-${id}`}\n          id={id}\n          title={title}\n          scrollY={scrollY}\n          selectedAnchorLink={selectedAnchorLink}\n          setAnchorLink={setAnchorLink}\n          cardHeight={cardHeight}\n          scrollOffset={scrollOffset}\n          anchorOffset={anchorOffset}\n        />\n      ))}\n    </Container>\n  );\n};\n\nexport default CardsContainer;\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\n\n// utils\n\n// assets\n\n// actions\n\n// components\n\n// self-defined-components\nconst Container = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n`;\nconst AnchorLink = styled.div`\n  margin: 10px;\n  padding: 20px;\n\n  cursor: pointer;\n  &:hover {\n    font-weight: 900;\n  }\n\n  color: ${(props) => (props.selected ? \"#ffffff\" : \"inherit\")};\n  background: ${(props) => (props.selected ? \"#114d97\" : \"inherit\")};\n\n  & a {\n    text-decoration: none;\n    color: inherit;\n  }\n`;\n\nconst useAnchor = (anchorLinks, defaultAnchorLink) => {\n  const [selectedId, setSelectedId] = useState(defaultAnchorLink);\n\n  const Anchor = () => {\n    return (\n      <Container>\n        {anchorLinks.map(({ id, title }) => (\n          <AnchorLink\n            key={`anchor-link-${id}`}\n            selected={selectedId === id}\n            onClick={() => setSelectedId(id)}\n          >\n            <a href={`#card-${id}`}>{title}</a>\n          </AnchorLink>\n        ))}\n      </Container>\n    );\n  };\n\n  return [selectedId, setSelectedId, Anchor];\n};\n\nexport default useAnchor;\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport CardsContainer from \"./CardsContainer\";\nimport useAnchor from \"./useAnchor\";\n\n// utils\n\n// assets\n\n// actions\n\n// components\n\n// self-defined-components\nconst Container = styled.div`\n  display: flex;\n  justify-content: space-between;\n\n  padding: 100px;\n`;\n\nconst Left = styled.div`\n  width: 30%;\n`;\n\nconst Right = styled.div`\n  width: 60%;\n`;\n\nconst Footer = styled.div`\n  min-height: 355px;\n\n  background: #123321;\n  color: #ffffff;\n`;\n\nconst InputBox = styled.div`\n  margin: 30px;\n\n  label {\n    margin-right: 10px;\n  }\n`;\n\nconst cards = [\n  { id: 1, title: \"企鵝說他不會說話\" },\n  { id: 2, title: \"貓喜歡跟狗睡覺\" },\n  { id: 3, title: \"老虎吃熊掌\b，實在好吃耶\" },\n  { id: 4, title: \"鯨魚把海豚咬死喂鯊魚\" },\n  { id: 5, title: \"玉蜀黍脫光變成慾叔叔\" },\n];\n\nconst App = () => {\n  const [selectedAnchorLink, setAnchorLink, Anchor] = useAnchor(\n    cards,\n    cards[0].id\n  );\n\n  const [cardHeight, setCardHeight] = useState(300);\n  const [scrollOffset, setScrollOffset] = useState(0);\n  const [anchorOffset, setAnchorOffset] = useState(0);\n\n  return (\n    <>\n      <Container>\n        <Left>\n          <Anchor />\n        </Left>\n        <Right>\n          <CardsContainer\n            cards={cards}\n            selectedAnchorLink={selectedAnchorLink}\n            setAnchorLink={setAnchorLink}\n            cardHeight={cardHeight}\n            scrollOffset={scrollOffset}\n            anchorOffset={anchorOffset}\n          />\n        </Right>\n      </Container>\n      <Footer>\n        <InputBox>\n          <label htmlFor=\"card-height\">卡片高度</label>\n          <input\n            id=\"card-height\"\n            value={cardHeight}\n            onChange={(e) => setCardHeight(e.target.value)}\n          />\n        </InputBox>\n        <InputBox>\n          <label htmlFor=\"scroll-offset\">滑動 Offset</label>\n          <input\n            id=\"scroll-offset\"\n            value={scrollOffset}\n            onChange={(e) => setScrollOffset(e.target.value)}\n          />\n        </InputBox>\n        <InputBox>\n          <label htmlFor=\"anchor-offset\">錨點 Offset</label>\n          <input\n            id=\"anchor-offset\"\n            value={anchorOffset}\n            onChange={(e) => setAnchorOffset(e.target.value)}\n          />\n        </InputBox>\n      </Footer>\n    </>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nimport \"./reset.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}