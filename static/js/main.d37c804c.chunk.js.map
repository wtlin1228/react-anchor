{"version":3,"sources":["CardsContainer.js","useAnchor.js","App.js","index.js"],"names":["Container","styled","div","Card","props","cardHeight","CardContainer","id","title","scrollY","selectedAnchorLink","setAnchorLink","scrollOffset","el","useRef","useEffect","current","offsetTop","offsetHeight","ref","CardsContainer","cards","useState","setScrollY","handleScrollYChange","window","addEventListener","removeEventListener","map","key","AnchorLink","selected","useAnchor","anchorLinks","defaultAnchorLink","selectedId","setSelectedId","href","Left","Right","Footer","App","Anchor","setCardHeight","setScrollOffset","htmlFor","value","onChange","e","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d37c804c.chunk.js","sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\n\n// utils\n\n// assets\n\n// actions\n\n// components\n\n// self-defined-components\nconst Container = styled.div``;\nconst Card = styled.div`\n  min-height: ${(props) => `${props.cardHeight}px`};\n\n  margin: 32px;\n  padding: 32px;\n\n  border: 1px solid #000000;\n  border-radius: 5px;\n\n  transition: all 0.3s;\n\n  &:hover {\n    transform: translateY(-4px);\n    box-shadow: -3px 6px 5px 0px #94aaa0;\n  }\n`;\n\nconst CardContainer = ({\n  id,\n  title,\n  scrollY,\n  selectedAnchorLink,\n  setAnchorLink,\n  cardHeight,\n  scrollOffset,\n}) => {\n  const el = useRef(null);\n\n  useEffect(() => {\n    if (\n      el &&\n      scrollY > el.current.offsetTop - scrollOffset &&\n      scrollY < el.current.offsetTop + el.current.offsetHeight - scrollOffset\n    ) {\n      if (selectedAnchorLink !== id) {\n        setAnchorLink(id);\n      }\n    }\n  }, [scrollY, id, title, selectedAnchorLink, setAnchorLink, scrollOffset]);\n\n  return (\n    <Card id={`card-${id}`} ref={el} cardHeight={cardHeight}>\n      {title}\n    </Card>\n  );\n};\n\nconst CardsContainer = ({\n  cards,\n  selectedAnchorLink,\n  setAnchorLink,\n  cardHeight,\n  scrollOffset,\n}) => {\n  const [scrollY, setScrollY] = useState(0);\n\n  useEffect(() => {\n    const handleScrollYChange = () => {\n      setScrollY(window.scrollY);\n    };\n    window.addEventListener(\"scroll\", handleScrollYChange);\n\n    return () => {\n      window.removeEventListener(\"scroll\", handleScrollYChange);\n    };\n  }, []);\n\n  return (\n    <Container>\n      {cards.map(({ id, title }) => (\n        <CardContainer\n          key={`card-${id}`}\n          id={id}\n          title={title}\n          scrollY={scrollY}\n          selectedAnchorLink={selectedAnchorLink}\n          setAnchorLink={setAnchorLink}\n          cardHeight={cardHeight}\n          scrollOffset={scrollOffset}\n        />\n      ))}\n    </Container>\n  );\n};\n\nexport default CardsContainer;\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\n\n// utils\n\n// assets\n\n// actions\n\n// components\n\n// self-defined-components\nconst Container = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n`;\nconst AnchorLink = styled.div`\n  margin: 10px;\n  padding: 20px;\n\n  cursor: pointer;\n  &:hover {\n    font-weight: 900;\n  }\n\n  color: ${(props) => (props.selected ? \"#ffffff\" : \"inherit\")};\n  background: ${(props) => (props.selected ? \"#114d97\" : \"inherit\")};\n\n  & a {\n    text-decoration: none;\n    color: inherit;\n  }\n`;\n\nconst useAnchor = (anchorLinks, defaultAnchorLink) => {\n  const [selectedId, setSelectedId] = useState(defaultAnchorLink);\n\n  const Anchor = () => {\n    return (\n      <Container>\n        {anchorLinks.map(({ id, title }) => (\n          <AnchorLink key={`anchor-link-${id}`} selected={selectedId === id}>\n            <a href={`#card-${id}`}>{title}</a>\n          </AnchorLink>\n        ))}\n      </Container>\n    );\n  };\n\n  return [selectedId, setSelectedId, Anchor];\n};\n\nexport default useAnchor;\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport CardsContainer from \"./CardsContainer\";\nimport useAnchor from \"./useAnchor\";\n\n// utils\n\n// assets\n\n// actions\n\n// components\n\n// self-defined-components\nconst Container = styled.div`\n  display: flex;\n  justify-content: space-between;\n\n  padding: 100px;\n`;\n\nconst Left = styled.div`\n  width: 30%;\n`;\n\nconst Right = styled.div`\n  width: 60%;\n`;\n\nconst Footer = styled.div`\n  min-height: 355px;\n\n  background: #123321;\n  color: #ffffff;\n`;\n\nconst cards = [\n  { id: 1, title: \"企鵝說他不會說話\" },\n  { id: 2, title: \"貓喜歡跟狗睡覺\" },\n  { id: 3, title: \"老虎吃熊掌\b，實在好吃耶\" },\n  { id: 4, title: \"鯨魚把海豚咬死喂鯊魚\" },\n  { id: 5, title: \"玉蜀黍脫光變成慾叔叔\" },\n];\n\nconst App = () => {\n  const [selectedAnchorLink, setAnchorLink, Anchor] = useAnchor(\n    cards,\n    cards[0].id\n  );\n\n  const [cardHeight, setCardHeight] = useState(300);\n  const [scrollOffset, setScrollOffset] = useState(0);\n\n  return (\n    <>\n      <Container>\n        <Left>\n          <Anchor />\n        </Left>\n        <Right>\n          <CardsContainer\n            cards={cards}\n            selectedAnchorLink={selectedAnchorLink}\n            setAnchorLink={setAnchorLink}\n            cardHeight={cardHeight}\n            scrollOffset={scrollOffset}\n          />\n        </Right>\n      </Container>\n      <Footer>\n        <div>\n          <label htmlFor=\"card-height\">卡片高度</label>\n          <input\n            id=\"card-height\"\n            value={cardHeight}\n            onChange={(e) => setCardHeight(e.target.value)}\n          />\n        </div>\n        <div>\n          <label htmlFor=\"scroll-offset\">滑動 Offset</label>\n          <input\n            id=\"scroll-offset\"\n            value={scrollOffset}\n            onChange={(e) => setScrollOffset(e.target.value)}\n          />\n        </div>\n      </Footer>\n    </>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nimport \"./reset.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}